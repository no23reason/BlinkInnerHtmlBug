
<form action="/Helpdesk/issue/operationtab/488878?issueId=5497" class="form-inline" data-ajax="true" data-ajax-begin="helpers.form.beginAjaxFormSaveWithText(&#39;#main-container&#39;, &#39;Ukl�d� se...&#39;)" data-ajax-complete="helpers.form.completeAjaxFormSave(&#39;#main-container&#39;)" data-ajax-failure="helpers.form.onFormSaveError" data-ajax-mode="replace" data-ajax-update="#OperationEditDialog" id="form0" method="post"><input name="__RequestVerificationToken" type="hidden" value="EbSNvoTi5hs4kZlLrBURfYGXn2P_HA7wvUpjfFHnFBNA8f8F9Z91A7u0EppKUo3NA_R1tTLIAkTV8hh_G9l6bg2u0_RB6ANdomC_FfuRBedXHKkWYSvISb6_lIp6iGesu0fmOQ2" /><div class="validation-summary-valid alert alert-danger" data-valmsg-summary="true" id="MainValidationSummary"><span>Formul&#225;� obsahuje n&#225;sleduj&#237;c&#237; chyby</span>
<ul><li style="display:none"></li>
</ul></div>

<script>
    var assignedDevices = [];

    function getClientId() {
        return $('#Issue_ClientId').val() || '2';
    }

    function getPartnerId() {
        return $('#Issue_PartnerId').val() || '1';
    }

    function onWindowOpenClientValidation(){
        var defaultClientId = getClientId();

        return defaultClientId != '' && typeof defaultClientId !== 'undefined' && defaultClientId != null;
    }

    function onWindowOpenClientValidationFalse(){
        kendoDialog('ErrorDialog', 'danger:Klient nevybr�n', 'Pro pokra�ov�n� mus� b�t nastaven klient', ['btn:ok']);
    }

    function getDeviceParams() {
        return {
            issueId: 5497,
            clientId: getClientId()
        }
    }

    function getClientEstateParams(){
        return {
            clientid: getClientId()
        }
    }

    function getClientEstateTargetParams(){
        return {
            clientid: getClientId()
        }
    }

    function onAdditionalData() {
        var value = $("#Issue_ResponsibilityCenterId").data("kendoComboBox").text();

        var result = {};
        if(value){ result['text'] = value; }
        result['clientid'] = '2';

        if(true && true) {
            result['clientestateid'] = '1320';
        }

        return result;
    }

    function onPartnerAccountGroupSelect(e) {
        var ddAss = $('#EditIssueGeneral').find('#Issue_PartnerAssigneeId').data("kendoDropDownList");
        if (ddAss) {
            reloadDropdown(ddAss);
        }
    }

    function onClientAccountGroupSelect(e) {
        var ddAss = $('#EditIssueGeneral').find('#Issue_ClientAssigneeId').data("kendoDropDownList");
        if (ddAss) {
            reloadDropdown(ddAss);
        }
    }

    function GetPartnerAssigneeParams() {
        var groupId;
        var groupElement = $('#EditIssueGeneral').find('#Issue_PartnerAccountGroupId');
        var groupList = groupElement.data("kendoDropDownList");

        if (groupList) {
            groupId = groupList.value();
        } else if (groupElement.length > 0) {
            groupId = groupElement.val();
        }

        return {
            partnerId: getPartnerId(),
            groupId: groupId
        }
    }

    function GetClientAssigneeParams() {
        var groupId;
        var groupElement = $('#EditIssueGeneral').find('#Issue_ClientAccountGroupId');
        var groupList = groupElement.data("kendoDropDownList");

        if (groupList) {
            groupId = groupList.value();
        } else if (groupElement.length > 0) {
            groupId = groupElement.val();
        }

        return {
            partnerId: getClientId(),
            groupId: groupId
        }
    }

    function removeDevice(e) {
        e.preventDefault();

        var grid = this;
        var row = $(e.currentTarget).closest("tr");
        var item = grid.dataItem(row).toJSON();

        kendoDialog('RemoveDeviceConfirmation', 'warning:Potvrzen�', 'Opravdu chcete odebrat toto za��zen�?', ['btn:yes', 'btn:no'], function (result) {
            if (result == 'YES')
            {
                if (item) {
                    assignedDevices = _.without(assignedDevices, item.Id);
                    setDevices(assignedDevices);

                    grid.dataSource.pushDestroy(item);
                }
                else {
                    kendoErrorDialog('P�i odeb�r�n� za��zen� do�lo k chyb�!', ['btn:ok']);
                }
            }
        });
    }

    function textareaCounter(textareaId, counterId, limit) {
        var textArea = $('#'+textareaId);
        var counter = $('#'+counterId);
        var counterParent = counter.closest('div');
        var length = (textArea.val().length
            + (textArea.val().match(/\n/g) || []).length) // count the line breaks twice, because they are stored as two characters in the database
            || 0;

        counterParent.removeClass('character-count-warning character-count-error');

        if(length >= limit){
            textArea.val(textArea.val().substring(0, limit)); // trim the text
            counterParent.addClass('character-count-error');
        }
        else if(length / limit > 0.9){
            counterParent.addClass('character-count-warning');
        }
        counter.text(limit - length);
    }
</script>

<div id="EditIssueGeneral">
    <input data-val="true" data-val-number="The field Id must be a number." data-val-required="The Id field is required." id="Issue_Id" name="Issue.Id" type="hidden" value="5497" />
    <input data-val="true" data-val-required="The IsDraft field is required." id="Issue_IsDraft" name="Issue.IsDraft" type="hidden" value="False" />
    <input data-val="true" data-val-number="The field WorkflowInstanceId must be a number." id="Issue_WorkflowInstanceId" name="Issue.WorkflowInstanceId" type="hidden" value="6719" />
    <input data-val="true" data-val-number="The field Typ po�adavku must be a number." data-val-required="The Typ po�adavku field is required." id="Issue_HelpdeskQueueId" name="Issue.HelpdeskQueueId" type="hidden" value="1" />
    <input id="Issue_StateName" name="Issue.StateName" type="hidden" value="DHD.A.E.010 - Vy�e�eno" />

    <div class="row">
        <div class="col-xs-12 col-lg-6">
                <div class="row">
                    <h3 class="row-fluid header smaller lighter blue col-xs-12">Z�kladn� informace</h3>
                </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_Number">�&#237;slo po�adavku</label>
                        </div>
                        <div class="col-xs-6">
AH1402550                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 col-xs-offset-4"><span class="field-validation-valid" data-valmsg-for="Issue.Number" data-valmsg-replace="true"></span></div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_ClientId">Klient</label>
                        </div>
                        <div class="col-xs-6">
XXXXX XXXXX XXXXXXXX, a.s.<input data-val="true" data-val-number="The field Klient must be a number." id="Issue_ClientId" name="Issue.ClientId" type="hidden" value="2" />                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 col-xs-offset-4"><span class="field-validation-valid" data-valmsg-for="Issue.ClientId" data-valmsg-replace="true"></span></div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_ClientAssigneeId">�e�itel klienta</label>
                        </div>
                        <div class="col-xs-6">
XXXXX XXXX                            <span class="field-validation-valid" data-valmsg-for="Issue.ClientAssigneeId" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_ClientPrincipalId">Garant klienta</label>
                        </div>
                        <div class="col-xs-6">
XXXXX XXXX                            <span class="field-validation-valid" data-valmsg-for="Issue.ClientPrincipalId" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                                <label>Zadavatel</label>
                        </div>
                    </div>
                        <div class="row">
                            <div class="col-xs-4 col-xs-push-1">
                                <label for="Issue_ReporterName">Jm&#233;no</label>
                            </div>
                            <div class="col-xs-6">
                                    <span class="no-value-specified"></span>

                                <span class="field-validation-valid" data-valmsg-for="Issue.ReporterName" data-valmsg-replace="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-4 col-xs-push-1">
                                <label for="Issue_ReporterEmail">Email</label>
                            </div>
                            <div class="col-xs-6">
                                xxxx.xxxxxxxx@xxxxx.com
                                <span class="field-validation-valid" data-valmsg-for="Issue.ReporterEmail" data-valmsg-replace="true"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-4 col-xs-push-1">
                                <label for="Issue_ReporterPhone">Telefon</label>
                            </div>
                            <div class="col-xs-6">
                                    <span class="no-value-specified"></span>

                                <span class="field-validation-valid" data-valmsg-for="Issue.ReporterPhone" data-valmsg-replace="true"></span>
                            </div>
                        </div>
                <div class="row">
                    <div class="col-xs-4">
                        <label for="Issue_AssignedTo">P�i�azeno organizaci</label>
                    </div>
                    <div class="col-xs-6">
                        �e�itelsk� organizace
                    </div>
                </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_ChargedToPartnerId">&#218;�tov&#225;no partnerovi</label>
                        </div>
                        <div class="col-xs-6">
XXXXX XXXXX XXXXXXXX, a.s.                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 col-xs-offset-4"><span class="field-validation-valid" data-valmsg-for="Issue.ChargedToPartnerId" data-valmsg-replace="true"></span></div>
                    </div>

                <div class="row">
                    <h3 class="row-fluid header smaller lighter blue col-xs-12">�e�itel</h3>
                </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_PartnerId">�e�itelsk&#225; organizace</label>
                        </div>
                        <div class="col-xs-6">
XXXX XXXXX a. s.<input data-val="true" data-val-number="The field �e�itelsk� organizace must be a number." id="Issue_PartnerId" name="Issue.PartnerId" type="hidden" value="1" />                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 col-xs-offset-4"><span class="field-validation-valid" data-valmsg-for="Issue.PartnerId" data-valmsg-replace="true"></span></div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_PartnerAssigneeId">�e�itel partnera</label>
                        </div>
                        <div class="col-xs-6">
XXXXXX XXXXXXXX                            <span class="field-validation-valid" data-valmsg-for="Issue.PartnerAssigneeId" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_PartnerPrincipalId">Garant partnera</label>
                        </div>
                        <div class="col-xs-6">
    <span class="no-value-specified"></span>
                            <span class="field-validation-valid" data-valmsg-for="Issue.PartnerPrincipalId" data-valmsg-replace="true"></span>
                        </div>
                    </div>

                <div class="row">
                    <h3 class="row-fluid header smaller lighter blue col-xs-12">Term�ny dokon�en�</h3>
                </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_Completed">Skute�n&#253; �as vy�e�en&#237; po�adavku</label>
                        </div>
                        <div class="col-xs-6">


18. 11. 2014 10:28:48                            <span class="field-validation-valid" data-valmsg-for="Issue.Completed" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_MustCompleteBefore">Po�adovan&#253; term&#237;n dokon�en&#237; (SLA)</label>
                        </div>
                        <div class="col-xs-6">


7. 11. 2014 12:31:53                            <span class="field-validation-valid" data-valmsg-for="Issue.MustCompleteBefore" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <label for="Issue_MustCompleteBeforeModified">Zm�na po�adovan&#233;ho term&#237;nu vy�e�en&#237; po�adavku</label>
                        </div>
                        <div class="col-sm-6">


28. 11. 2014 0:00:00                            <span class="field-validation-valid" data-valmsg-for="Issue.MustCompleteBeforeModified" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_ShouldCompleteBefore">O�ek&#225;van&#253; term&#237;n dokon�en&#237; do</label>
                        </div>
                        <div class="col-xs-6">


    <span class="no-value-specified"></span>
                            <span class="field-validation-valid" data-valmsg-for="Issue.ShouldCompleteBefore" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_MustCompleteCurrentTaskBefore">Po�adovan&#253; term&#237;n dokon�en&#237; &#250;kolu</label>
                        </div>
                        <div class="col-xs-6">


3. 12. 2014 15:11:36                            <span class="field-validation-valid" data-valmsg-for="Issue.MustCompleteCurrentTaskBefore" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_EstimatedCompletion">P�edpokl&#225;dan&#233; datum �e�en&#237; ze strany �e�itele</label>
                        </div>
                        <div class="col-xs-6">


27. 11. 2014 0:00:00                            <span class="field-validation-valid" data-valmsg-for="Issue.EstimatedCompletion" data-valmsg-replace="true"></span>
                        </div>
                    </div>
        </div>
            <div class="col-xs-12 col-lg-6">
                <div class="row">
                    <h3 class="row-fluid header smaller lighter blue col-xs-12">Klasifikace po�adavku</h3>
                </div>









                <div class="row">
                    <div class="col-xs-4">
                        <label for="Issue_HelpdeskQueueName">Typ po�adavku</label>
                    </div>
                    <div class="col-xs-6">
                        Opravy a &#250;dr�ba
                    </div>
                </div>

                    <div class="row">
                        <div class="col-xs-4 ">
                            <label for="Issue_HelpdeskQueueCategoryId">Kategorie po�adavku</label>
                        </div>
                        <div class="col-xs-6">
B�n&#225; oprava / po�adavek                            <span class="field-validation-valid" data-valmsg-for="Issue.HelpdeskQueueCategoryId" data-valmsg-replace="true"></span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-4 ">
                            <label for="Issue_HelpdeskQueuePriorityId">Priorita</label>
                        </div>
                        <div class="col-xs-6">
D                            <span class="field-validation-valid" data-valmsg-for="Issue.HelpdeskQueuePriorityId" data-valmsg-replace="true"></span>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-xs-4">
                            <label for="Issue_IsMobileMaintenance">Mobiln&#237; &#250;dr�ba</label>
                        </div>
                        <div class="col-xs-6">
<label><input class="ace" data-val="true" data-val-required="The Mobiln� �dr�ba field is required." id="Issue_IsMobileMaintenance" name="Issue.IsMobileMaintenance" type="checkbox" value="true" /><input name="Issue.IsMobileMaintenance" type="hidden" value="false" /> <span class="lbl pointer"> Mobiln&#237; &#250;dr�ba</span></label>                            <span class="field-validation-valid" data-valmsg-for="Issue.IsMobileMaintenance" data-valmsg-replace="true"></span>
                        </div>
                    </div>
            </div>
        <input data-val="true" data-val-number="The field Id must be a number." id="Issue_AccountsReceivableSummary_Id" name="Issue.AccountsReceivableSummary.Id" type="hidden" value="7515" />            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="row-fluid header smaller lighter blue">Faktura�n� �daje</h3>
                    </div>
                </div>

                    <div class="row">
                        <div class="col-md-4">
                            <label for="Issue_AccountsReceivableSummary_TaxPoint">DUZP</label>
                        </div>
                        <div class="col-md-6">


    <span class="no-value-specified"></span>
                            <span class="field-validation-valid" data-valmsg-for="Issue.AccountsReceivableSummary.TaxPoint" data-valmsg-replace="true"></span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <label for="Issue_AccountsReceivableSummary_Approved">Schv&#225;leno</label>
                        </div>
                        <div class="col-md-6">
Ne                            <br />
                            <span class="field-validation-valid" data-valmsg-for="Issue.AccountsReceivableSummary.IsApproved" data-valmsg-replace="true"></span>
                        </div>
                    </div>





                



            </div>
    </div>

        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <h3 class="row-fluid header smaller lighter blue col-xs-12 required">N&#225;zev po�adavku</h3>
                </div>

                <div class="row">
                    <div class="col-xs-12">
[533] - hl&#225;si�                         <span class="field-validation-valid" data-valmsg-for="Issue.Title" data-valmsg-replace="true"></span>
                    </div>
                </div>
            </div>
        </div>



        <script>
            var assignedDocuments = [19643,23843],
                newassignedDocuments = [],
                hasDocumentLimit = false;

            function canAssignDocument(){
                return newassignedDocuments.length == 0 || !hasDocumentLimit;
            }

            function onDocumentGridBound(e) {
                //read all documents from grid
                var currentDocumentsSet = e.sender.dataSource.data();

                //register all documents
                assignedDocuments = _.pluck(currentDocumentsSet, "DocumentId");

                //register new documents
                newassignedDocuments = [];
                $.each(currentDocumentsSet, function(index, value){
                    if(value.AssignmentId == null)
                        newassignedDocuments.push(value.DocumentId);
                });

                //write assigned documents to HTML input
                setDocuments(assignedDocuments);
            }

            function showDocumentDialog(e, documentId) {
                e.preventDefault();

                var grid = $('#EditIssueGeneral').find('#AssignedDocumentListGrid').data('kendoGrid');
                var row = $(e.currentTarget).closest("tr");
                var item = grid.dataItem(row).toJSON();

                var wnd = $('#PickDocumentWindow').data('kendoWindow');

                wnd.refresh({
                    url: '/Helpdesk/operationdocument/dialogproxy/488878?issueid=5497',
                    data: { documentId: item.DocumentId }
                });

                wnd.onSuccess = function(item) {
                    $('#AssignedDocumentListGrid').data('kendoGrid').dataSource.read();
                    showAlert('#msg-documents', '�prava dokumentu byla provedena.', 'success', {closeAfter: 5000, animationOut: true});
                };
            };

            function assignDocument(e) {
                e.preventDefault();

                if (!canAssignDocument()) {
                    return kendoDialog('MaxDocumentReached',
                        'warning:Dal�� dokument nelze nahr�t',
                        'Byl dosa�en maxim�ln� mo�n� po�et p�ilo�en�ch dokument�.',
                        ['btn:ok']);
                }

                var wnd = $('#PickDocumentWindow').data('kendoWindow');
                if (wnd) {

                    
                    wnd.onSuccess = function (documents) {
                        if (documents) {
                            var newDocuments = _.pluck(documents, 'Id');
                            assignedDocuments = _.union(assignedDocuments, newDocuments);

                            $('#AssignedDocumentListGrid').data('kendoGrid').dataSource.read();
                        }
                    }
                    

                    if(true){

                        var pickUrl = '/Helpdesk/operationdocument/createproxy/488878?issueId=5497';
                        wnd.refresh({
                            url: pickUrl
                        });
                    }
                }
            }

            function removeDocument(e, documentId) {
                e.preventDefault();

                var grid = $('#EditIssueGeneral').find('#AssignedDocumentListGrid').data('kendoGrid');
                var row = $(e.currentTarget).closest("tr");
                var item = grid.dataItem(row).toJSON();

                kendoDialog('RemoveDocumentConfirmation', 'warning:Potvrzen�', 'Opravdu chcete odebrat tento dokument?', ['btn:yes', 'btn:no'], function (result) {
                    if (result == 'YES')
                    {
                        if (item) {
                            assignedDocuments = _.without(assignedDocuments, item.DocumentId);
                            grid.dataSource.pushDestroy(item);
                        }
                        else {
                            kendoErrorDialog('P�i odeb�r�n� dokumentu do�lo k chyb�!', ['btn:ok']);
                        }
                    }
                });
            }

            function setDocuments(assignedDocuments) {
                var assignedDocumentsElement = $('#Issue_AssignedDocumentsId');

                assignedDocumentsElement.empty();
                _.each(assignedDocuments, function(id) {
                    assignedDocumentsElement
                        .append($('<option></option>')
                        .attr('value',id)
                        .text(id)
                        .prop('selected', true));
                });
            }
        </script>
        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <h3 class="row-fluid header smaller lighter blue col-xs-12">P�ilo�en&#233; dokumenty</h3>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div id="msg-documents"></div>
                        <div id="gridContainer">
                            <div class="k-widget k-grid" id="AssignedDocumentListGrid"><div class="k-toolbar k-grid-toolbar k-grid-top"><a class="btn btn-primary btn-sm k-button k-button-icontext k-grid-Insert" href="#" onclick="assignDocument(event);"><span></span><i class="icon-upload-alt"></i> Nahr�t dokument</a></div><div class="k-grouping-header">Drag a column header and drop it here to group by that column</div><table><colgroup><col style="width:40px" /><col style="width:290px" /><col /><col /><col /><col /><col style="width:160px" /></colgroup><thead class="k-grid-header"><tr><th class="k-header" data-field="DocumentId" data-title="Id dokumentu" scope="col"><a class="k-link" href="/Helpdesk/operationdocument/listread/488878?issueId=5497">Id dokumentu</a></th><th class="k-header k-filterable" data-field="Title" data-title="N�zev" scope="col"><a class="k-grid-filter"><span class="k-icon k-filter"></span></a><a class="k-link" href="/Helpdesk/operationdocument/listread/488878?issueId=5497">N�zev</a></th><th class="k-header k-filterable" data-field="AssignmentCreatedByAccountName" data-title="P�ilo�il" scope="col"><a class="k-grid-filter"><span class="k-icon k-filter"></span></a><a class="k-link" href="/Helpdesk/operationdocument/listread/488878?issueId=5497">P�ilo�il</a></th><th class="k-header k-filterable" data-field="DocumentCreated" data-title="Zalo�eno" scope="col"><a class="k-grid-filter"><span class="k-icon k-filter"></span></a><a class="k-link" href="/Helpdesk/operationdocument/listread/488878?issueId=5497">Zalo�eno</a></th><th class="k-header k-filterable" data-field="Modified" data-title="Posledn� zm�na" scope="col"><a class="k-grid-filter"><span class="k-icon k-filter"></span></a><a class="k-link" href="/Helpdesk/operationdocument/listread/488878?issueId=5497">Posledn� zm�na</a></th><th class="k-header k-filterable" data-field="DocumentCategoryLocalName" data-title="Kategorie" scope="col"><a class="k-grid-filter"><span class="k-icon k-filter"></span></a><a class="k-link" href="/Helpdesk/operationdocument/listread/488878?issueId=5497">Kategorie</a></th><th class="k-header" scope="col"><span class="k-link">&nbsp;</span></th></tr></thead><tbody><tr class="k-no-data"><td colspan="7"></td></tr></tbody></table><div class="k-pager-wrap k-grid-pager"><a class="k-link k-pager-nav k-state-disabled k-pager-first" data-page="1" href="#" title="Go to the first page"><span class="k-icon k-i-seek-w">seek-w</span></a><a class="k-link k-pager-nav k-state-disabled" data-page="0" href="#" title="Go to the previous page"><span class="k-icon k-i-arrow-w">arrow-w</span></a><ul class="k-pager-numbers k-reset"><li><span class="k-state-selected" data-page="1">1</span></li></ul><a class="k-link k-pager-nav k-state-disabled" data-page="2" href="#" title="Go to the next page"><span class="k-icon k-i-arrow-e">arrow-e</span></a><a class="k-link k-pager-nav k-state-disabled k-pager-last" data-page="1" href="#" title="Go to the last page"><span class="k-icon k-i-seek-e">seek-e</span></a><span class="k-pager-sizes k-label"><select><option>10</option><option>20</option><option>50</option><option>100</option></select>polo�ek na str�nku</span><a class="k-pager-refresh k-link" href="/Helpdesk/operationdocument/listread/488878?issueId=5497" title="Refresh"><span class="k-icon k-i-refresh">Refresh</span></a><span class="k-pager-info k-label">No items to display</span></div></div><script>
	jQuery(function(){jQuery("#AssignedDocumentListGrid").kendoGrid({"dataBound":onDocumentGridBound,"columns":[{"title":"Id dokumentu","width":"40px","field":"DocumentId","filterable":false,"encoded":true},{"title":"N�zev","width":"290px","template":"\u003ca href=\"/Helpdesk/operationdocument/downloadproxy/488878?issueid=5497\u0026documentId=#: DocumentId #\" target=\"_blank\"\u003e#: Title #\u003c/a\u003e","field":"Title","filterable":{},"encoded":true},{"title":"P�ilo�il","field":"AssignmentCreatedByAccountName","filterable":{},"encoded":true},{"title":"Zalo�eno","field":"DocumentCreated","format":"{0:g}","filterable":{},"encoded":true},{"title":"Posledn� zm�na","field":"Modified","format":"{0:g}","filterable":{},"encoded":true},{"title":"Kategorie","field":"DocumentCategoryLocalName","filterable":{},"encoded":true},{"width":"160px","template":"# if (SecurityDeleteAllowed) {#   \u003ca class=\"k-button k-button-icontext k-grid-detail\" href=\"\\#\" onclick=\"removeDocument(event, #: DocumentId #);\"\u003eOdebrat\u003c/a\u003e#}#\u003ca class=\"k-button k-button-icontext k-grid-detail\" href=\"\\#\" onclick=\"showDocumentDialog(event, #: DocumentId #);\"\u003eDetail\u003c/a\u003e"}],"groupable":{},"pageable":{"refresh":true,"pageSizes":[10,20,50,100],"buttonCount":5,"messages":{"itemsPerPage":"polo�ek na str�nku"}},"sortable":true,"filterable":{"extra":false,"messages":{"info":"Filtrovat polo�ky, kter�:"},"operators":{"string":{"startswith":"za��naj�"}}},"reorderable":true,"scrollable":false,"toolbar":{"command":[{"name":"Insert","attr":" onclick=\"assignDocument(event);\" class=\"btn btn-primary btn-sm\"","buttonType":"ImageAndText","text":"\u003ci class=\"icon-upload-alt\"\u003e\u003c/i\u003e Nahr�t dokument"}]},"dataSource":{"type":"aspnetmvc-ajax","transport":{"read":{"url":"/Helpdesk/operationdocument/listread/488878?issueId=5497","data":function () {return {documentsId: assignedDocuments}},"type":"GET"},"prefix":""},"pageSize":20,"page":1,"total":0,"serverPaging":true,"serverSorting":true,"serverFiltering":true,"serverGrouping":true,"serverAggregates":true,"filter":[],"error":helpers.grid.onErrorGrid('#AssignedDocumentListGrid'),"schema":{"data":"Data","total":"Total","errors":"Errors","model":{"id":"DocumentId","fields":{"DocumentId":{"type":"number"},"DocumentCreatedById":{"type":"number"},"DocumentCreated":{"type":"date"},"DocumentCreatedByAccountName":{"type":"string"},"DocumentCategoryLocalName":{"type":"string"},"CurrentRevisionNumber":{"type":"number"},"Modified":{"type":"date"},"Title":{"type":"string"},"AssignmentId":{"type":"number","defaultValue":null},"AssignmentCreatedById":{"type":"number","defaultValue":null},"AssignmentCreatedByAccountName":{"type":"string"},"SecurityDeleteAllowed":{"type":"boolean"}}}}}});});
</script>
                        </div>

                        <div>
                            <select id="Issue_AssignedDocumentsId" multiple="multiple" name="Issue.AssignedDocumentsId" style="display: none;"><option selected="selected" value="19643">19643</option>
<option selected="selected" value="23843">23843</option>
</select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<div id="PickDocumentWindow" style="display:none"></div><script>
	jQuery(function(){jQuery("#PickDocumentWindow").kendoWindow({"error":helpers.window.onWindowError,"refresh":helpers.window.onRefreshWindowOpen,"modal":true,"iframe":false,"draggable":true,"pinned":false,"title":"�daje dokumentu","resizable":true,"content":null,"width":800,"actions":["Maximize","Close"]});});
</script></div>

<div id="PickDeviceWindow" style="display:none"></div><script>
	jQuery(function(){jQuery("#PickDeviceWindow").kendoWindow({"error":helpers.window.onWindowError,"refresh":helpers.window.onRefreshWindowOpen,"modal":true,"iframe":false,"draggable":true,"pinned":false,"title":"P�i�azen� za��zen�","resizable":true,"content":null,"width":1000,"height":600,"actions":["Maximize","Close"]});});
</script>

<script>


    function onSelectedPartner(wnd, model, url) {
        // register custom callback function
        wnd.onItemSelected = function (e, data) {
            model.pickerValue(data.Id);
            model.pickerText(data.Name);

            var ddPrinc = $('#EditIssueGeneral').find('#Issue_PartnerPrincipalId').data("kendoDropDownList");
            if (ddPrinc) {
                reloadDropdown(ddPrinc);
            }

            var ddGroup = $('#EditIssueGeneral').find('#Issue_PartnerAccountGroupId').data("kendoDropDownList");
            if (ddGroup) {
                reloadDropdown(ddGroup);
            }

            onPartnerAccountGroupSelect();

            if (data.Id != 1) {
                helpers.dropdownlist
                    .readonly('#Issue_PartnerAccountGroupId', false)
                    .readonly('#Issue_PartnerAssigneeId', false)
                    .readonly('#Issue_PartnerPrincipalId', false);
            }
        }

        wnd.refresh({
            url: url,
            data: {}
        });
    }

    function onSelectedClient(wnd, model, url) {
        // register custom callback function
        wnd.onItemSelected = function (e, data) {
            model.pickerValue(data.Id);
            model.pickerText(data.Name);

            var ddPrinc = $('#EditIssueGeneral').find('#Issue_ClientPrincipalId').data("kendoDropDownList");
            if (ddPrinc) {
                reloadDropdown(ddPrinc);
            }

            var ddGroup = $('#EditIssueGeneral').find('#Issue_ClientAccountGroupId').data("kendoDropDownList");
            if (ddGroup) {
                reloadDropdown(ddGroup);
            }

            onClientAccountGroupSelect();

            if (data.Id != 1) {
                helpers.dropdownlist
                    .readonly('#Issue_ClientAccountGroupId', true)
                    .readonly('#Issue_ClientAssigneeId', true)
                    .readonly('#Issue_ClientPrincipalId', true);
            }
        }

        wnd.refresh({
            url: url,
            data: {}
        });
    }

    function reloadDropdown(dd) {
        if (dd) {
            dd.dataSource.read();
            dd.enable(true);
            dd.value('');
        }
    }

    function assignDevice(e) {
        e.preventDefault();

        var wnd = $('#PickDeviceWindow').data('kendoWindow');
        if (wnd) {
            wnd.onItemSelected = function (e, devices) {
                if (devices && devices.length > 0) {
                    var newDevices = _.map(devices, function(device) { return device.Id; });
                    assignedDevices = _.union(assignedDevices, newDevices);
                    setDevices(assignedDevices);

                    $('#AssignedDeviceListGrid').data('kendoGrid').dataSource.read();
                }
            }

            var pickUrl = '/technology/device/pickhelpdeskissue';

            wnd.refresh({
                url: pickUrl,
                data: getDeviceParams()
            });
        }
    }

    function setDevices(assignedDevices) {
        var assignedDevicesElement = $('#Issue_AssignedDevicesId');

        assignedDevicesElement.empty();
        _.each(assignedDevices, function(id) {
            assignedDevicesElement
                .append($('<option></option>')
                .attr('value',id)
                .text(id)
                .prop('selected', true));
        });
    }

    $('#Issue_AccountsReceivableSummary_CalculateFromDescendants').click(function() {
        var chk = $(this);

        if (chk.prop('checked')) {
            $('#EditIssueGeneral').find('.ars-calculated').val(0).each(function(i, item) {
                var el = $(item).data('kendoNumericTextBox');
                if (el)
                    el.readonly(true);
            });
            $('#EditIssueGeneral').find('#Issue_AccountsReceivableSummary_IsApproved').prop({disabled: true, checked: false});
        } else {
            $('#EditIssueGeneral').find('.ars-calculated').each(function(i, item) {
                var el = $(item).data('kendoNumericTextBox');
                if (el)
                    el.readonly(false);
            });
            $('#EditIssueGeneral').find('#Issue_AccountsReceivableSummary_IsApproved').prop('disabled', false);
        }
    })

    $(function () {
        helpers.dropdownlist.optionLabelFix([
            '#Issue_ClientAccountGroupId',
            '#Issue_ClientAssigneeId',
            '#Issue_ClientPrincipalId',
            '#Issue_PartnerAccountGroupId',
            '#Issue_PartnerAssigneeId',
            '#Issue_PartnerPrincipalId'
        ]);
        helpers.dropdownlist
            .readonly('#Issue_PartnerAccountGroupId', false)
            .readonly('#Issue_PartnerAssigneeId', false)
            .readonly('#Issue_PartnerPrincipalId', false)
            .readonly('#Issue_ClientAccountGroupId', true)
            .readonly('#Issue_ClientAssigneeId', true)
            .readonly('#Issue_ClientPrincipalId', true);

        helpers.form.resizeByContent($('#Issue_Content'), 30);
    })
</script>                <div class="row">
                    <div class="col-xs-12">
                        

                        <div class="row">
                            <div class="col-xs-12">
                                
<input id="Params_WorkflowInstance" name="Params.WorkflowInstance" type="hidden" value="6719" /><input id="Params_WorkflowOperation" name="Params.WorkflowOperation" type="hidden" value="488878" />            <fieldset>
                <legend class="lighter blue">Faktura�n&#237; &#250;daje</legend>

<div class="row">                        <div class="col-xs-2">
                            <label for="Params_Values_2100_">Pr&#225;ce</label>
                        </div>
                        <div class="col-xs-4">



<input id="Params_Values_2100__Value" max="79228162514264337593543950335" min="-79228162514264337593543950335" name="Params.Values[2100].Value" type="number" />